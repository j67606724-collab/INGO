<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Страховой калькулятор</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input, select { width: 100%; padding: 8px; margin-top: 5px; }
        button { margin-top: 15px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px; white-space: pre-wrap; }
        .explanation { margin-top: 30px; background: #e8f4fd; padding: 15px; border-left: 5px solid #2196F3; }
    </style>
</head>
<body>
    <h1>Страховой калькулятор</h1>
    <p>Введите параметры для расчета страховой премии.</p>

    <label for="age">Возраст:</label>
    <input type="number" id="age" min="18" max="100" value="30" />

    <label for="ageGroup">Группа по возрасту:</label>
    <select id="ageGroup">
        <option value="18-30">18-30</option>
        <option value="31-45">31-45</option>
        <option value="46-60">46-60</option>
        <option value="60+">60+</option>
    </select>

    <label for="insuranceType">Тип страхования:</label>
    <select id="insuranceType">
        <option value="property">Имущество</option>
        <option value="life">Жизнь заемщика</option>
    </select>

    <label for="basePremium">Базовая страховая премия (руб):</label>
    <input type="number" id="basePremium" value="4180" />

    <label for="discount">Скидка (%):</label>
    <input type="number" id="discount" value="10" />

    <label for="newContract">Новый / Перезаключение (1 - новый, 0 - перезаключение):</label>
    <input type="number" id="newContract" min="0" max="1" value="1" />

    <button onclick="calculatePremium()">Рассчитать</button>

    <div class="result" id="result"></div>

    <div class="explanation">
        <h2>Объяснение функций</h2>
        <p><strong>calculatePremium()</strong> — основная функция, которая берет введенные данные, применяет формулы для расчета страховой премии с учетом скидок и типа страхования.</p>
        <p>Формулы включают:</p>
        <ul>
            <li>Применение скидки к базовой премии: <code>premiumWithDiscount = basePremium * (1 - discount / 100)</code></li>
            <li>Корректировка премии в зависимости от возраста и группы по возрасту.</li>
            <li>Учет типа страхования (имущество или жизнь) с разными коэффициентами.</li>
            <li>Учет нового или перезаключения договора.</li>
        </ul>
        <p>Все расчеты выполняются в JavaScript, а результаты выводятся на страницу.</p>
    </div>
        <script>
        function calculatePremium() {
            const age = parseInt(document.getElementById('age').value);
            const ageGroup = document.getElementById('ageGroup').value;
            const insuranceType = document.getElementById('insuranceType').value;
            const basePremium = parseFloat(document.getElementById('basePremium').value);
            const discount = parseFloat(document.getElementById('discount').value);
            const newContract = parseInt(document.getElementById('newContract').value);

            // Применяем скидку к базовой премии
            let premiumWithDiscount = basePremium * (1 - discount / 100);

            // Коэффициенты по возрастным группам
            const ageGroupCoeffs = {
                "18-30": 1.0,
                "31-45": 1.1,
                "46-60": 1.3,
                "60+": 1.5
            };

            // Коэффициенты по типу страхования
            const insuranceCoeffs = {
                "property": 1.0,
                "life": 1.2
            };

            // Коэффициент для нового или перезаключения договора
            const newContractCoeff = newContract === 1 ? 1.0 : 0.9;

            // Рассчитываем итоговую премию
            let finalPremium = premiumWithDiscount
                * (ageGroupCoeffs[ageGroup] || 1)
                * (insuranceCoeffs[insuranceType] || 1)
                * newContractCoeff;

            // Округляем до целых рублей
            finalPremium = Math.round(finalPremium);

            // Вывод результата
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = `Итоговая страховая премия: ${finalPremium} руб.`;
        }
    </script>
</body>
</html>
